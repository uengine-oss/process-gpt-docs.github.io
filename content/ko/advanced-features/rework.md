---
description: ''
sidebar: 'getting-started'
---

# 워크아이템 재작업

워크 아이템 재작업 기능은 에이전트나 MCP(Machine-Context Protocol) 를 통해 실행된 업무 로그를 기반으로, 이전 단계에서 수행된 작업들을 역순으로 보상(Compensation) 하는 기능입니다.

이 기능은 분산 트랜잭션 환경에서 발생할 수 있는 부분 실패(Partial Failure) 상황에 대응하기 위한 비즈니스 트랜잭션 보상 메커니즘으로 설계되었습니다.

워크아이템 재작업 기능은 아래 예시에서 다음과 같은 흐름으로 동작합니다.

1) 각 워크 아이템은 MCP 호출 시점의 정보를 로그로 기록합니다. 이때, 재작업을 요청하면 시스템은 해당 인스턴스의 실행 로그를 역순으로 탐색하여 보상처리의 대상을 식별합니다.

2) 로그에 기록된 에이전트, MCP에 대해 보상 트랙잭션 동작되어 역행 로직들이 자동 처리됩니다. 이를 통해 비즈니스 트랙잭션이 보장되어 프로세스의 일관성을 보장하게됩니다.

## 재작업 설정하기
숙소 검색 프로세스를 통한 워크아이템 재작업 사용 방법은 다음과 같습니다.

먼저, 아래와 같은 숙소예약 프로세스를 생성합니다.
![](../../../uengine-image/process-gpt/reference/reference-1.png)<br>

완료된 숙소 검색 프로세스를 실행하여 숙소 검색 단계를 완료합니다. 이후, 칸반보드로 이동하여 숙소 검색 워크아이템이 완료되었는지 확인 후, 클릭합니다.
![](../../../uengine-image/process-gpt/rework/rework-1.png)<br>

숙소 검색 단계 우측 상단에 위치한 다시 수행하기를 클릭하면 아래와 같이 재작업 범위를 설정할 수 있습니다.<br>
![](../../../uengine-image/process-gpt/rework/rework-2.png)<br>

![](../../../uengine-image/process-gpt/rework/rework-3.png)<br>
<워크아이템 재작업 범위 지정><br><br>

재작업 범위 설정이 완료되면 워크아이템이 새로 생성되며 이전에 에이전트를 통해 진행됐던 숙소 검색이 보상처리로인해 롤백되어 다시 작업이 진행되는것을 확인할 수 있습니다.
![](../../../uengine-image/process-gpt/rework/rework-3.5.png)<br>